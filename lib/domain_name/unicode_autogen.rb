# -*- coding: utf-8 -*-

class DomainName
  class Unicode
    escape = proc { |cp|
      Regexp.quote([cp].pack('U'))
    }
    list_to_regexp = proc { |*list|
      pattern = ''
      list.each { |cp|
        case cp
        when Range
          cp1, cp2 = cp.begin, cp.end
          if cp1 < 0x80 && 0x80 <= cp2
            pattern << escape[cp1]
            pattern << '-' << escape[0x7f] if cp1 != 0x7f
            pattern << escape[0x80]
            pattern << '-' << escape[cp2] if cp2 != 0x80
          else
            pattern << escape[cp1] << '-' << escape[cp2]
          end
        else
          pattern << escape[cp]
        end
      }
      /[#{pattern}]/u
    }

    if !defined?(RE_COMBINING)
      RE_COMBINING = list_to_regexp[
        0x0300..0x036F,
        0x0483..0x0489,
        0x0591..0x05BD,
        0x05BF,
        0x05C1..0x05C2,
        0x05C4..0x05C5,
        0x05C7,
        0x0610..0x061A,
        0x064B..0x065F,
        0x0670,
        0x06D6..0x06DC,
        0x06DF..0x06E4,
        0x06E7..0x06E8,
        0x06EA..0x06ED,
        0x0711,
        0x0730..0x074A,
        0x07A6..0x07B0,
        0x07EB..0x07F3,
        0x0816..0x0819,
        0x081B..0x0823,
        0x0825..0x0827,
        0x0829..0x082D,
        0x0859..0x085B,
        0x0900..0x0903,
        0x093A..0x093C,
        0x093E..0x094F,
        0x0951..0x0957,
        0x0962..0x0963,
        0x0981..0x0983,
        0x09BC,
        0x09BE..0x09CD,
        0x09D7,
        0x09E2..0x09E3,
        0x0A01..0x0A03,
        0x0A3C..0x0A51,
        0x0A70..0x0A71,
        0x0A75..0x0A83,
        0x0ABC,
        0x0ABE..0x0ACD,
        0x0AE2..0x0AE3,
        0x0B01..0x0B03,
        0x0B3C,
        0x0B3E..0x0B57,
        0x0B62..0x0B63,
        0x0B82,
        0x0BBE..0x0BCD,
        0x0BD7,
        0x0C01..0x0C03,
        0x0C3E..0x0C56,
        0x0C62..0x0C63,
        0x0C82..0x0C83,
        0x0CBC,
        0x0CBE..0x0CD6,
        0x0CE2..0x0CE3,
        0x0D02..0x0D03,
        0x0D3E..0x0D4D,
        0x0D57,
        0x0D62..0x0D63,
        0x0D82..0x0D83,
        0x0DCA..0x0DF3,
        0x0E31,
        0x0E34..0x0E3A,
        0x0E47..0x0E4E,
        0x0EB1,
        0x0EB4..0x0EBC,
        0x0EC8..0x0ECD,
        0x0F18..0x0F19,
        0x0F35,
        0x0F37,
        0x0F39,
        0x0F3E..0x0F3F,
        0x0F71..0x0F84,
        0x0F86..0x0F87,
        0x0F8D..0x0FBC,
        0x0FC6,
        0x102B..0x103E,
        0x1056..0x1059,
        0x105E..0x1060,
        0x1062..0x1064,
        0x1067..0x106D,
        0x1071..0x1074,
        0x1082..0x108D,
        0x108F,
        0x109A..0x109D,
        0x135D..0x135F,
        0x1712..0x1714,
        0x1732..0x1734,
        0x1752..0x1753,
        0x1772..0x1773,
        0x17B6..0x17D3,
        0x17DD,
        0x180B..0x180D,
        0x18A9,
        0x1920..0x193B,
        0x19B0..0x19C0,
        0x19C8..0x19C9,
        0x1A17..0x1A1B,
        0x1A55..0x1A7F,
        0x1B00..0x1B04,
        0x1B34..0x1B44,
        0x1B6B..0x1B73,
        0x1B80..0x1B82,
        0x1BA1..0x1BAA,
        0x1BE6..0x1BF3,
        0x1C24..0x1C37,
        0x1CD0..0x1CD2,
        0x1CD4..0x1CE8,
        0x1CED,
        0x1CF2,
        0x1DC0..0x1DFF,
        0x20D0..0x20F0,
        0x2CEF..0x2CF1,
        0x2D7F,
        0x2DE0..0x2DFF,
        0x302A..0x302F,
        0x3099..0x309A,
        0xA66F..0xA672,
        0xA67C..0xA67D,
        0xA6F0..0xA6F1,
        0xA802,
        0xA806,
        0xA80B,
        0xA823..0xA827,
        0xA880..0xA881,
        0xA8B4..0xA8C4,
        0xA8E0..0xA8F1,
        0xA926..0xA92D,
        0xA947..0xA953,
        0xA980..0xA983,
        0xA9B3..0xA9C0,
        0xAA29..0xAA36,
        0xAA43,
        0xAA4C..0xAA4D,
        0xAA7B,
        0xAAB0,
        0xAAB2..0xAAB4,
        0xAAB7..0xAAB8,
        0xAABE..0xAABF,
        0xAAC1,
        0xABE3..0xABEA,
        0xABEC..0xABED,
        0xFB1E,
        0xFE00..0xFE0F,
        0xFE20..0xFE26,
        0x101FD,
        0x10A01..0x10A0F,
        0x10A38..0x10A3F,
        0x11000..0x11002,
        0x11038..0x11046,
        0x11080..0x11082,
        0x110B0..0x110BA,
        0x1D165..0x1D169,
        0x1D16D..0x1D172,
        0x1D17B..0x1D182,
        0x1D185..0x1D18B,
        0x1D1AA..0x1D1AD,
        0x1D242..0x1D244,
        0xE0100..0xE01EF,
      ]
    end

    RE_BIDI = {
      :S => list_to_regexp[
        0x0000..0x0008,
        0x000A,
        0x001C..0x001E,
      ],
      :B => list_to_regexp[
        0x0009,
        0x000C,
        0x000E..0x001B,
        0x007F..0x0084,
        0x2028,
      ],
      :WS => list_to_regexp[
        0x000B,
        0x001F,
        0x1401..0x167F,
        0x180B..0x180D,
        0x1FFD..0x1FFE,
        0x2010..0x2027,
        0x2045..0x205E,
        0x2E00..0x2FFB,
      ],
      :BN => list_to_regexp[
        0x000D,
        0x007B..0x007E,
        0x0085,
        0x00AB..0x00AC,
        0x2000..0x200A,
        0x205F,
        0xFE70..0xFEFC,
        0x1D16A..0x1D172,
        0x20000..0x2FA1D,
      ],
      :ON => list_to_regexp[
        0x0020,
        0x0023..0x0025,
        0x003A,
        0x0041..0x005A,
        0x0061..0x007A,
        0x00A0,
        0x00A2..0x00A5,
        0x00AA,
        0x00AD,
        0x00B2..0x00B3,
        0x00B5,
        0x00BA,
        0x00C0..0x00D6,
        0x00D8..0x00F6,
        0x00F8..0x02B8,
        0x02BB..0x02C1,
        0x02D0..0x02D1,
        0x02E0..0x02E4,
        0x02EE,
        0x0370..0x0373,
        0x0376..0x037D,
        0x0386,
        0x0388..0x03F5,
        0x048A..0x0589,
        0x0600..0x0603,
        0x060D,
        0x06DD,
        0x06E7..0x06E8,
        0x07F4..0x07F5,
        0x0BD0..0x0BF2,
        0x0BF9,
        0x0C66..0x0C6F,
        0x0F39,
        0x1360..0x138F,
        0x13A0..0x13F4,
        0x1681..0x169A,
        0x17E0..0x17E9,
        0x1939..0x193B,
        0x1946..0x19DA,
        0x1E00..0x1FBC,
        0x1FBE,
        0x1FC2..0x1FCC,
        0x1FD0..0x1FDB,
        0x1FE0..0x1FEC,
        0x1FF2..0x1FFC,
        0x200F,
        0x2030..0x2034,
        0x2044,
        0x207A..0x207B,
        0x208A..0x208B,
        0x20D0..0x20F0,
        0x2102,
        0x2107,
        0x210A..0x2113,
        0x2115,
        0x2119..0x211D,
        0x2124,
        0x2126,
        0x2128,
        0x212F..0x2139,
        0x213C..0x213F,
        0x2145..0x2149,
        0x214E..0x214F,
        0x2160..0x2188,
        0x2213,
        0x2336..0x237A,
        0x2395,
        0x249C..0x24E9,
        0x26AC,
        0x2800..0x28FF,
        0x2C00..0x2CE4,
        0x2CEF..0x2CF1,
        0x2DE0..0x2DFF,
        0x3000,
        0x3005..0x3007,
        0x302A..0x302F,
        0x3031..0x3035,
        0x3038..0x303C,
        0x3099..0x309A,
        0x309D..0x309F,
        0x30A1..0x30FA,
        0x30FC..0x31BA,
        0x31F0..0x321C,
        0x3220..0x324F,
        0x3260..0x327B,
        0x327F..0x32B0,
        0x32C0..0x32CB,
        0x32D0..0x3376,
        0x337B..0x33DD,
        0x33E0..0x33FE,
        0x3400..0x4DB5,
        0x4E00..0xA48C,
        0xA4D0..0xA60C,
        0xA66F..0xA672,
        0xA67C..0xA67D,
        0xA6F2..0xA6F7,
        0xA722..0xA787,
        0xA827,
        0xA840..0xA873,
        0xFB50..0xFD3D,
        0xFD50..0xFDFC,
        0xFE00..0xFE0F,
        0xFE20..0xFE26,
        0xFE50,
        0xFE52,
        0xFE55,
        0xFE5F,
        0xFE62..0xFE63,
        0xFE69..0xFE6A,
        0xFEFF,
        0xFF03..0xFF05,
        0xFF1A,
        0xFF21..0xFF3A,
        0xFF41..0xFF5A,
        0xFFE0..0xFFE1,
        0xFFE5..0xFFE6,
        0x10000..0x10100,
        0x10102..0x1013F,
        0x10800..0x1091B,
        0x10A40..0x10B35,
        0x11047..0x1104D,
        0x1D1AE..0x1D1DD,
        0x1D242..0x1D244,
        0x1D360..0x1D6DA,
        0x1D6DC..0x1D714,
        0x1D716..0x1D74E,
        0x1D750..0x1D788,
        0x1D78A..0x1D7C2,
        0x1D7CE..0x1D7FF,
        0x1F110..0x1F251,
        0x1F48C,
        0x1F524,
      ],
      :ET => list_to_regexp[
        0x0021..0x0022,
        0x00A1,
        0x00AE..0x00AF,
        0x0608,
        0x0660..0x0669,
        0x09E6..0x09F1,
        0x09F4..0x09FA,
        0x0AE6..0x0AEF,
        0x0BF3..0x0BF8,
        0x0E34..0x0E3A,
        0x17D4..0x17DA,
        0x202F,
        0x2090..0x209C,
        0x212A..0x212D,
        0x2212,
        0xA830..0xA837,
        0xFE56..0xFE5E,
        0xFE64..0xFE68,
        0xFF01..0xFF02,
        0xFF66..0xFFDC,
        0xFFE2..0xFFE4,
      ],
      :ES => list_to_regexp[
        0x0026..0x002A,
        0x002C,
        0x2074..0x2079,
        0x2080..0x2089,
        0x2189..0x2211,
        0xFB1F..0xFB28,
        0xFE60..0xFE61,
        0xFF06..0xFF0A,
        0xFF0C,
      ],
      :CS => list_to_regexp[
        0x002B,
        0x002D,
        0x0030..0x0039,
        0x0086..0x009F,
        0x060B,
        0x202E,
        0x2035..0x2043,
        0xFE30..0xFE4F,
        0xFE51,
        0xFE54,
        0xFF0B,
        0xFF0D,
        0xFF10..0xFF19,
      ],
      :EN => list_to_regexp[
        0x002E..0x002F,
        0x00B0..0x00B1,
        0x00B6..0x00B8,
        0x06EE..0x06EF,
        0x2060..0x206F,
        0x2071,
        0x207F,
        0x2396..0x2487,
        0xFF0E..0xFF0F,
        0x1D7C4..0x1D7CB,
        0x1F000..0x1F0DF,
      ],
      :L => list_to_regexp[
        0x003B..0x0040,
        0x005B..0x0060,
        0x00A6..0x00A9,
        0x00B4,
        0x00B9,
        0x00BB..0x00BF,
        0x00D7,
        0x00F7,
        0x02B9..0x02BA,
        0x02C2..0x02CF,
        0x02D2..0x02DF,
        0x02E5..0x02ED,
        0x0300..0x036F,
        0x0374..0x0375,
        0x037E..0x0385,
        0x0387,
        0x03F6,
        0x0483..0x0489,
        0x0900..0x0902,
        0x093A,
        0x093C,
        0x0941..0x0948,
        0x094D,
        0x0951..0x0957,
        0x0962..0x0963,
        0x0981,
        0x09BC,
        0x09C1..0x09C4,
        0x09CD,
        0x09E2..0x09E3,
        0x09F2..0x09F3,
        0x0A01..0x0A02,
        0x0A3C,
        0x0A41..0x0A51,
        0x0A70..0x0A71,
        0x0A75..0x0A82,
        0x0ABC,
        0x0AC1..0x0AC8,
        0x0ACD,
        0x0AE2..0x0AE3,
        0x0B01,
        0x0B3C,
        0x0B3F,
        0x0B41..0x0B44,
        0x0B4D..0x0B56,
        0x0B62..0x0B63,
        0x0B82,
        0x0BC0,
        0x0BCD,
        0x0BFA,
        0x0C3E..0x0C40,
        0x0C46..0x0C56,
        0x0C62..0x0C63,
        0x0C78..0x0C7E,
        0x0CBC,
        0x0CCC..0x0CCD,
        0x0CE2..0x0CE3,
        0x0D41..0x0D44,
        0x0D4D,
        0x0D62..0x0D63,
        0x0DCA,
        0x0DD2..0x0DD6,
        0x0E31,
        0x0E3F,
        0x0E47..0x0E4E,
        0x0EB1,
        0x0EB4..0x0EBC,
        0x0EC8..0x0ECD,
        0x0F18..0x0F19,
        0x0F35,
        0x0F37,
        0x0F3A..0x0F3D,
        0x0F71..0x0F7E,
        0x0F80..0x0F84,
        0x0F86..0x0F87,
        0x0F8D..0x0FBC,
        0x0FC6,
        0x102D..0x1030,
        0x1032..0x1037,
        0x1039..0x103A,
        0x103D..0x103E,
        0x1058..0x1059,
        0x105E..0x1060,
        0x1071..0x1074,
        0x1082,
        0x1085..0x1086,
        0x108D,
        0x109D,
        0x135D..0x135F,
        0x1390..0x1399,
        0x1400,
        0x1680,
        0x169B..0x169C,
        0x1712..0x1714,
        0x1732..0x1734,
        0x1752..0x1753,
        0x1772..0x1773,
        0x17B7..0x17BD,
        0x17C6,
        0x17C9..0x17D3,
        0x17DB,
        0x17DD,
        0x180E,
        0x18A9,
        0x1920..0x1922,
        0x1927..0x1928,
        0x1932,
        0x1940..0x1945,
        0x19DE..0x19FF,
        0x1A17..0x1A18,
        0x1A56,
        0x1A58..0x1A60,
        0x1A62,
        0x1A65..0x1A6C,
        0x1A73..0x1A7F,
        0x1B00..0x1B03,
        0x1B34,
        0x1B36..0x1B3A,
        0x1B3C,
        0x1B42,
        0x1B6B..0x1B73,
        0x1B80..0x1B81,
        0x1BA2..0x1BA5,
        0x1BA8..0x1BA9,
        0x1BE6,
        0x1BE8..0x1BE9,
        0x1BED,
        0x1BEF..0x1BF1,
        0x1C2C..0x1C33,
        0x1C36..0x1C37,
        0x1CD0..0x1CD2,
        0x1CD4..0x1CE0,
        0x1CE2..0x1CE8,
        0x1CED,
        0x1DC0..0x1DFF,
        0x1FBD,
        0x1FBF..0x1FC1,
        0x1FCD..0x1FCF,
        0x1FDD..0x1FDF,
        0x1FED..0x1FEF,
        0x200B..0x200D,
        0x2070,
        0x207C..0x207E,
        0x208C..0x208E,
        0x2100..0x2101,
        0x2103..0x2106,
        0x2108..0x2109,
        0x2114,
        0x2116..0x2118,
        0x211E..0x2123,
        0x2125,
        0x2127,
        0x2129,
        0x212E,
        0x213A..0x213B,
        0x2140..0x2144,
        0x214A..0x214D,
        0x2150..0x215F,
        0x2214..0x2335,
        0x237B..0x2394,
        0x2488..0x249B,
        0x24EA..0x26AB,
        0x26AD..0x27FF,
        0x2900..0x2B59,
        0x2CE5..0x2CEA,
        0x2CF9..0x2CFF,
        0x2D7F,
        0x3001..0x3004,
        0x3008..0x3020,
        0x3030,
        0x3036..0x3037,
        0x303D..0x303F,
        0x309B..0x309C,
        0x30A0,
        0x30FB,
        0x31C0..0x31E3,
        0x321D..0x321E,
        0x3250..0x325F,
        0x327C..0x327E,
        0x32B1..0x32BF,
        0x32CC..0x32CF,
        0x3377..0x337A,
        0x33DE..0x33DF,
        0x33FF,
        0x4DC0..0x4DFF,
        0xA490..0xA4C6,
        0xA60D..0xA60F,
        0xA67E..0xA67F,
        0xA6F0..0xA6F1,
        0xA700..0xA721,
        0xA788,
        0xA802,
        0xA806,
        0xA80B,
        0xA825..0xA826,
        0xA828..0xA82B,
        0xA838..0xA839,
        0xA874..0xA877,
        0xA8C4,
        0xA8E0..0xA8F1,
        0xA926..0xA92D,
        0xA947..0xA951,
        0xA980..0xA982,
        0xA9B3,
        0xA9B6..0xA9B9,
        0xA9BC,
        0xAA29..0xAA2E,
        0xAA31..0xAA32,
        0xAA35..0xAA36,
        0xAA43,
        0xAA4C,
        0xAAB0,
        0xAAB2..0xAAB4,
        0xAAB7..0xAAB8,
        0xAABE..0xAABF,
        0xAAC1,
        0xABE5,
        0xABE8,
        0xABED,
        0xFF1B..0xFF20,
        0xFF3B..0xFF40,
        0xFF5B..0xFF65,
        0xFFE8..0xFFFD,
        0x10101,
        0x10140..0x1019B,
        0x101FD,
        0x10E60..0x10E7E,
        0x11001,
        0x11038..0x11046,
        0x11052..0x11065,
        0x11080..0x11081,
        0x110B3..0x110B6,
        0x110B9..0x110BA,
        0x1D167..0x1D169,
        0x1D17B..0x1D182,
        0x1D185..0x1D18B,
        0x1D1AA..0x1D1AD,
        0x1D245..0x1D356,
        0x1D6DB,
        0x1D715,
        0x1D74F,
        0x1D789,
        0x1D7C3,
        0x1F100..0x1F10A,
        0x1F300..0x1F48B,
        0x1F48D..0x1F523,
        0x1F525..0x1F773,
        0xE0100..0xE01EF,
        0xF0000..0x10FFFD,
      ],
      :NSM => list_to_regexp[
        0x02EF..0x02FF,
        0x03F7..0x0482,
        0x058A,
        0x05BE,
        0x05C0,
        0x05C3,
        0x05C6,
        0x060E..0x060F,
        0x061B..0x064A,
        0x066D..0x066F,
        0x0671..0x06D5,
        0x06DE,
        0x06E5..0x06E6,
        0x06E9,
        0x0710,
        0x0712..0x072F,
        0x074D..0x07A5,
        0x07C0..0x07EA,
        0x07FA..0x0815,
        0x081A,
        0x0824,
        0x0828,
        0x0830..0x0858,
        0x085E,
        0x0903..0x0939,
        0x093B,
        0x093D..0x0940,
        0x0949..0x094C,
        0x094E..0x0950,
        0x0958..0x0961,
        0x0964..0x097F,
        0x0982..0x09B9,
        0x09BD..0x09C0,
        0x09C7..0x09CC,
        0x09CE..0x09E1,
        0x09FB,
        0x0A03..0x0A39,
        0x0A3E..0x0A40,
        0x0A59..0x0A6F,
        0x0A72..0x0A74,
        0x0A83..0x0AB9,
        0x0ABD..0x0AC0,
        0x0AC9..0x0ACC,
        0x0AD0..0x0AE1,
        0x0AF1,
        0x0B02..0x0B39,
        0x0B3D..0x0B3E,
        0x0B40,
        0x0B47..0x0B4C,
        0x0B57..0x0B61,
        0x0B66..0x0B77,
        0x0B83..0x0BBF,
        0x0BC1..0x0BCC,
        0x0C01..0x0C3D,
        0x0C41..0x0C44,
        0x0C58..0x0C61,
        0x0C7F..0x0CB9,
        0x0CBD..0x0CCB,
        0x0CD5..0x0CE1,
        0x0CE6..0x0D40,
        0x0D46..0x0D4C,
        0x0D4E..0x0D61,
        0x0D66..0x0DC6,
        0x0DCF..0x0DD1,
        0x0DD8..0x0E30,
        0x0E32..0x0E33,
        0x0E40..0x0E46,
        0x0E4F..0x0EB0,
        0x0EB2..0x0EB3,
        0x0EBD..0x0EC6,
        0x0ED0..0x0F17,
        0x0F1A..0x0F34,
        0x0F36,
        0x0F38,
        0x0F3E..0x0F6C,
        0x0F7F,
        0x0F85,
        0x0F88..0x0F8C,
        0x0FBE..0x0FC5,
        0x0FC7..0x102C,
        0x1031,
        0x1038,
        0x103B..0x103C,
        0x103F..0x1057,
        0x105A..0x105D,
        0x1061..0x1070,
        0x1075..0x1081,
        0x1083..0x1084,
        0x1087..0x108C,
        0x108E..0x109C,
        0x109E..0x135A,
        0x16A0..0x1711,
        0x1720..0x1731,
        0x1735..0x1751,
        0x1760..0x1770,
        0x1780..0x17B6,
        0x17BE..0x17C5,
        0x17C7..0x17C8,
        0x17DC,
        0x17F0..0x180A,
        0x1810..0x18A8,
        0x18AA..0x191C,
        0x1923..0x1926,
        0x1929..0x1931,
        0x1933..0x1938,
        0x1A00..0x1A16,
        0x1A19..0x1A55,
        0x1A57,
        0x1A61,
        0x1A63..0x1A64,
        0x1A6D..0x1A72,
        0x1A80..0x1AAD,
        0x1B04..0x1B33,
        0x1B35,
        0x1B3B,
        0x1B3D..0x1B41,
        0x1B43..0x1B6A,
        0x1B74..0x1B7C,
        0x1B82..0x1BA1,
        0x1BA6..0x1BA7,
        0x1BAA..0x1BE5,
        0x1BE7,
        0x1BEA..0x1BEC,
        0x1BEE,
        0x1BF2..0x1C2B,
        0x1C34..0x1C35,
        0x1C3B..0x1C7F,
        0x1CD3,
        0x1CE1,
        0x1CE9..0x1CEC,
        0x1CEE..0x1DBF,
        0x20A0..0x20B9,
        0x2CEB..0x2CEE,
        0x2D00..0x2D70,
        0x2D80..0x2DDE,
        0x3021..0x3029,
        0x3041..0x3096,
        0xA610..0xA66E,
        0xA673,
        0xA680..0xA6EF,
        0xA789..0xA801,
        0xA803..0xA805,
        0xA807..0xA80A,
        0xA80C..0xA824,
        0xA880..0xA8C3,
        0xA8CE..0xA8D9,
        0xA8F2..0xA925,
        0xA92E..0xA946,
        0xA952..0xA97C,
        0xA983..0xA9B2,
        0xA9B4..0xA9B5,
        0xA9BA..0xA9BB,
        0xA9BD..0xAA28,
        0xAA2F..0xAA30,
        0xAA33..0xAA34,
        0xAA40..0xAA42,
        0xAA44..0xAA4B,
        0xAA4D..0xAAAF,
        0xAAB1,
        0xAAB5..0xAAB6,
        0xAAB9..0xAABD,
        0xAAC0,
        0xAAC2..0xABE4,
        0xABE6..0xABE7,
        0xABE9..0xABEC,
        0xFB1D,
        0xFDFD,
        0xFE10..0xFE19,
        0x101D0..0x101FC,
        0x10920..0x10A00,
        0x10A10..0x10A33,
        0x11000,
        0x11002..0x11037,
        0x11066..0x1106F,
        0x11082..0x110B2,
        0x110B7..0x110B8,
        0x110BB..0x1D166,
        0x1D173..0x1D17A,
        0x1D183..0x1D184,
        0x1D18C..0x1D1A9,
        0x1D200..0x1D241,
        0xE0001..0xE007F,
      ],
      :R => list_to_regexp[
        0x0591..0x05BD,
        0x05BF,
        0x05C1..0x05C2,
        0x05C4..0x05C5,
        0x05C7,
        0x07B1,
        0x07EB..0x07F3,
        0x07F6..0x07F9,
        0x0816..0x0819,
        0x081B..0x0823,
        0x0825..0x0827,
        0x0829..0x082D,
        0x0859..0x085B,
        0x200E,
        0xABF0..0xFB17,
        0xFB1E,
        0xFB29,
        0x10280..0x104A9,
        0x1091F,
        0x10A01..0x10A0F,
        0x10A38..0x10A3F,
        0x10B39..0x10B3F,
      ],
      :AN => list_to_regexp[
        0x05D0..0x05F4,
        0x064B..0x065F,
        0x066A,
        0x06D6..0x06DC,
        0x06FA..0x070D,
        0x10B40..0x10C48,
      ],
      :AL => list_to_regexp[
        0x0606..0x0607,
        0x0609..0x060A,
        0x060C,
        0x0610..0x061A,
        0x066B..0x066C,
        0x0670,
        0x06DF..0x06E4,
        0x06EA..0x06ED,
        0x06F0..0x06F9,
        0x070F,
        0x0711,
        0x0730..0x074A,
        0x07A6..0x07B0,
        0xFB2A..0xFB4F,
        0xFD3E..0xFD3F,
        0xFE6B,
      ],
      :LRE => list_to_regexp[
        0x2029,
      ],
      :RLE => list_to_regexp[
        0x202A,
      ],
      :PDF => list_to_regexp[
        0x202B,
      ],
      :LRO => list_to_regexp[
        0x202C,
      ],
      :RLO => list_to_regexp[
        0x202D,
      ],
    }
  end
end
